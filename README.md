# Statistics(통계의 활용)
통계의 활용 수업 자료 (r언어)

## 상관분석

### 1. 피어슨 상관계수 (Pearson Correlation Coefficient)
 - 용도: 두 연속형 변수 간의 선형 상관관계를 측정합니다.
 -  특징:
 두 변수의 분포가 정규 분포를 따르는 경우에 적합합니다.
 값은 -1과 1 사이이며, 0은 상관관계가 없음을 의미합니다.
 예: 키와 몸무게 간의 관계를 분석할 때 유용합니다.
 주로 default값 


### 2. 켄달 상관계수 (Kendall's Tau)
-  용도: 두 순위형 변수 간의 상관관계를 측정합니다.
-  특징:
순위를 사용하여 상관관계를 평가하므로 비모수적 방법으로, 데이터가 정규 분포를 따르지 않아도 사용할 수 있습니다.
값은 -1과 1 사이이며, 값이 0에 가까울수록 두 변수 간의 관계가 약하다는 것을 의미합니다.
예: 학생의 성적 순위와 수업 참여도 순위 간의 관계를 분석할 때 유용합니다.


### 3. 스피어만 상관계수 (Spearman's Rank Correlation Coefficient)
-  용도: 두 변수 간의 비선형 관계를 측정하거나 순위형 변수 간의 상관관계를 평가합니다.
-  특징:
두 변수의 순위를 기반으로 계산되므로 데이터가 정규 분포를 따르지 않아도 사용할 수 있습니다.
값은 -1과 1 사이이며, 0은 상관관계가 없음을 의미합니다.
예: 학생의 성적과 시험 준비 시간 간의 관계를 분석할 때 유용합니다.


## 회귀분석

### 회귀모델 분석

- 회귀 계수를 추정해서 회귀선을 추정한다


### 잔차분석

- 회귀 모형이 적절한지 잔차의 패턴을 보고 파악한다.
- 그 전에 가정하였던 오차항의 정규성,등분산성, 독립성을 검증하는 용도 그걸로 인해서 휘귀모델의 가정 검증

1. 정규성 검증

- QQ plot 을 통해 잔차가 정규분포를 따르는지 확인하다.
- Quantile은 데이터를 같은 비율로 나눈 것 

2. 독립성 검증

- Durbin-Waston 검정통계량 이용
- 4에 가까우면 음의상관(이전값과 다른 것이 나올 확률이 높다), 0에 가까우면 양의상관, 2에 가까우면 독립성 확보

### 잔차와 오차의 차이 

- 오차 : 측정값과 실제값의 차이
  예 : 온도 실제 값 , 온도계로 측정값

- 잔차 : 실제 관측값과 모델의 값의 차이

## 분석과정

1. 회귀 계수 추정  t_value값을 통해

2. 결정계수를 통해 회귀모델의 설명력 가짐

3. F 통계량(독립변수들이 종속변수에 영향을 미치는 정도)으로 모델 전체가 유의미한지 판단.


## 잔차분석

1. Residuals vs Fitted
의미: 잔차(Residuals)를 예측값(Fitted values)에 대해 플롯한 것입니다.
목적: 모델이 선형성을 만족하는지 확인하는 데 사용됩니다. 잔차들이 랜덤하게 분포되어 있어야 하며, 특정 패턴(예: U자형이나 곡선형)이 나타나면 모델이 데이터를 잘 설명하지 못하고 있다는 신호일 수 있습니다.
해석: 이 플롯에서는 잔차들이 일정한 패턴을 보이지 않고 무작위로 흩어져 있어야 모델의 선형 가정이 적합하다고 볼 수 있습니다. 그러나 이 그래프에서는 다소 곡선형 패턴이 보이므로 선형성이 부족할 수 있다는 것을 시사합니다.
2. Normal Q-Q
의미: 잔차가 정규 분포를 따르는지 확인하기 위한 Q-Q(Quantile-Quantile) 플롯입니다.
목적: 점들이 대각선에 가깝게 위치해야 잔차가 정규 분포를 따르는 것으로 볼 수 있습니다.
해석: 그래프에서 대부분의 점들이 대각선을 따라 분포하고 있다면 정규성 가정을 만족한다고 볼 수 있습니다. 그러나 극단적인 점들이 대각선에서 벗어나 있다면, 정규성 가정이 만족되지 않을 수 있습니다. 여기서는 몇몇 점들이 대각선에서 약간 벗어나 있어 정규성에 약간의 문제가 있을 수 있음을 시사합니다.
3. Scale-Location (Spread-Location)
의미: 표준화된 잔차의 제곱근을 예측값에 대해 플롯한 것입니다.
목적: 이 플롯은 분산이 일정한지(등분산성)를 확인하는 데 사용됩니다. 데이터의 분산이 일정해야 회귀 모델의 적합도가 높아집니다.
해석: 점들이 수평하게 고르게 분포해야 등분산성을 만족한다고 볼 수 있습니다. 이 그래프에서는 약간의 경사가 보이며 특정 부분에서 잔차의 분산이 더 큰 것으로 보이므로, 등분산성을 만족하지 않을 가능성이 있습니다.
4. Cook's Distance
의미: 관측치가 모델에 얼마나 영향을 미치는지 나타내는 지표인 Cook's Distance를 보여줍니다.
목적: 특정 데이터가 모델에 미치는 영향이 크다면, 그 데이터는 모델의 신뢰성을 떨어뜨릴 수 있습니다.
해석: 특정 관측치(예: 8번 관측치)가 Cook’s Distance 값이 높은 것으로 나타나며, 이는 해당 데이터가 모델에 큰 영향을 미칠 수 있음을 의미합니다. 보통 0.5 이상의 값을 가지면 영향을 많이 준다고 볼 수 있습니다.
5. Residuals vs Leverage
의미: 표준화된 잔차와 레버리지(Leverage)를 비교한 플롯입니다.
목적: 모델에 큰 영향을 미치는 이상치나 극단값을 찾기 위해 사용됩니다.
해석: 점들이 빨간색 경계선 밖에 위치하면 해당 데이터가 모델에 큰 영향을 미치는 이상치일 가능성이 큽니다. 이 그래프에서는 몇몇 관측치(예: 8번)가 경계선에 가까이 있거나 밖으로 나가 있어 모델에 영향을 미칠 수 있는 잠재적 이상치로 보입니다.
6. Cook’s distance vs Leverage
의미: Cook’s Distance와 Leverage를 함께 플롯한 것입니다.
목적: 데이터가 모델에 미치는 영향(영향력과 레버리지)을 동시에 파악하여, 특이값(Outlier)과 영향이 큰 관측치를 식별할 수 있습니다.
해석: 이 그래프에서 레버리지와 Cook's Distance 값이 높은 점들은 모델에 크게 영향을 미치므로 주의해야 할 데이터입니다. 여기서는 특정 관측치들이 Cook's Distance 기준선을 넘고 있어 모델의 신뢰성을 낮출 수 있는 데이터를 나타냅니다.